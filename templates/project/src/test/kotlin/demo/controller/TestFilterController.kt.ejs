package <%= options.package %>.controller

import org.hamcrest.Matchers
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.test.web.servlet.MockMvc
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders
import org.springframework.test.web.servlet.result.MockMvcResultHandlers
import org.springframework.test.web.servlet.result.MockMvcResultMatchers

/**
 * WORKING : https://spring.io/guides/gs/testing-web/
 */
@SpringBootTest
@AutoConfigureMockMvc
class Test<%= table.camelName %>FilterController (
/*FOXB-CARG*/
/*FOXE-CARG*/
        @Autowired val mockMvc: MockMvc
) {
/*FOXB-INIT*/
/*FOXE-INIT*/

    @Test
    fun testNoFilter() {
        mockMvc
            .perform(MockMvcRequestBuilders.get("/api/<%= table.pluralLowerCamelName %>/filter<%= table.pluralCamelName %>"))
            .andDo(MockMvcResultHandlers.print())
            .andExpect(MockMvcResultMatchers.status().isOk)

        /*
            .andExpect(MockMvcResultMatchers.content()
                .string(Matchers.containsString("Hello World :)")))
         */
    }

/*FOXB-CODE*/
/*FOXE-CODE*/
}
